{"ast":null,"code":"import _classCallCheck from\"/Users/leena/Downloads/MyProjectDemo/covidIndia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/leena/Downloads/MyProjectDemo/covidIndia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/leena/Downloads/MyProjectDemo/covidIndia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/leena/Downloads/MyProjectDemo/covidIndia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,PropTypes}from'react';import LinearProgress from'@material-ui/core/LinearProgress';import axios from'axios';import Top5 from'../components/top5';import{Grid}from'@material-ui/core';import Typography from'@material-ui/core/Typography';import MediaQuery from'react-responsive';import Plotly from'plotly.js';var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);var _super=_createSuper(Home);function Home(props){var _this;_classCallCheck(this,Home);_this=_super.call(this,props);_this.state={top5:null,world:null,startDate:null,endDate:null};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('https://covid-india-data-dashboard.herokuapp.com/getCounts',{'headers':{'Access-Control-Allow-Origin':'*','Access-Control-Allow-Methods':'GET'}}).then(function(res){//console.log(res);\n_this2.setState({top5:res.data});}).catch(function(err){console.log(err);});axios.get('/getWorldmap').then(function(res){//console.log(res);\n_this2.setState({world:res.data,startDate:res.data.names[0],endDate:res.data.names[res.data.names.length-1]});var worldData=_this2.state.world;var graphDiv=document.getElementById('myDiv');var layout={hovermode:'closest',sliders:[{currentvalue:{visible:true,prefix:'Cases as of ',xanchor:'center',font:{size:14,color:'#666'}},steps:worldData.sliderSteps}]};var config={responsive:true};Plotly.newPlot(graphDiv,{data:worldData.chart,layout:layout,config:config}).then(function(){Plotly.addFrames(graphDiv,worldData.framedata);}).then(function(){Plotly.animate(graphDiv,worldData.names,worldData.fig_world_animate);});}).catch(function(err){console.log(err);});}},{key:\"render\",value:function render(){var displaytop5=this.state.top5?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Top5,{top5:this.state.top5})):/*#__PURE__*/React.createElement(\"div\",{className:\"padding10per\"},/*#__PURE__*/React.createElement(Typography,{color:\"textSecondary\"},\"Loading...\"),/*#__PURE__*/React.createElement(LinearProgress,{color:\"secondary\"}));var displayWorld=this.state.world?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"center\",null,\"World-wide spread summary from \",this.state.startDate,\" to \",this.state.endDate)),/*#__PURE__*/React.createElement(\"div\",{id:\"myDiv\"}))):/*#__PURE__*/React.createElement(\"div\",{className:\"padding10per\"},/*#__PURE__*/React.createElement(Typography,{color:\"textSecondary\"},\"Loading...\"),/*#__PURE__*/React.createElement(LinearProgress,{color:\"secondary\"}));return/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,sm:12,xs:12},/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"center\",null,\"Top 5 Most Affected States as of 11 June 2020\")),/*#__PURE__*/React.createElement(\"div\",null,displaytop5)),/*#__PURE__*/React.createElement(Grid,{item:true,sm:12,xs:12},/*#__PURE__*/React.createElement(MediaQuery,{maxDeviceWidth:424,orientation:'portrait'},/*#__PURE__*/React.createElement(Typography,{color:\"textSecondary\",className:\"alignCenter\"},\"Sorry! We cannot render in portrait mode! Kindly change the orientation to view the graph...\")),/*#__PURE__*/React.createElement(MediaQuery,{minDeviceWidth:424},/*#__PURE__*/React.createElement(\"div\",null,displayWorld))));}}]);return Home;}(Component);export default Home;","map":{"version":3,"sources":["/Users/leena/Downloads/MyProjectDemo/covidIndia/src/pages/home.js"],"names":["React","Component","PropTypes","LinearProgress","axios","Top5","Grid","Typography","MediaQuery","Plotly","Home","props","state","top5","world","startDate","endDate","get","then","res","setState","data","catch","err","console","log","names","length","worldData","graphDiv","document","getElementById","layout","hovermode","sliders","currentvalue","visible","prefix","xanchor","font","size","color","steps","sliderSteps","config","responsive","newPlot","chart","addFrames","framedata","animate","fig_world_animate","displaytop5","displayWorld"],"mappings":"woBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,SAA3B,KAA4C,OAA5C,CACA,MAAOC,CAAAA,cAAP,KAA2B,kCAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,OAASC,IAAT,KAAqB,mBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,C,GAEMC,CAAAA,I,4FACF,cAAYC,KAAZ,CAAmB,sCACf,uBAAMA,KAAN,EADe,MAInBC,KAJmB,CAIb,CACFC,IAAI,CAAC,IADH,CAEFC,KAAK,CAAC,IAFJ,CAGFC,SAAS,CAAC,IAHR,CAIFC,OAAO,CAAC,IAJN,CAJa,cAGlB,C,8EAOkB,iBACjBZ,KAAK,CAACa,GAAN,CAAU,4DAAV,CACA,CAAC,UAAW,CACV,8BAAgC,GADtB,CAEV,+BAAiC,KAFvB,CAAZ,CADA,EAIIC,IAJJ,CAIS,SAAAC,GAAG,CAAE,CACZ;AACA,MAAI,CAACC,QAAL,CAAc,CACZP,IAAI,CAACM,GAAG,CAACE,IADG,CAAd,EAGH,CATC,EASCC,KATD,CASO,SAAAC,GAAG,CAAE,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAXC,EAYAnB,KAAK,CAACa,GAAN,CAAU,cAAV,EAA0BC,IAA1B,CAA+B,SAAAC,GAAG,CAAE,CAClC;AACA,MAAI,CAACC,QAAL,CAAc,CACZN,KAAK,CAACK,GAAG,CAACE,IADE,CAEZN,SAAS,CAACI,GAAG,CAACE,IAAJ,CAASK,KAAT,CAAe,CAAf,CAFE,CAGZV,OAAO,CAACG,GAAG,CAACE,IAAJ,CAASK,KAAT,CAAeP,GAAG,CAACE,IAAJ,CAASK,KAAT,CAAeC,MAAf,CAAwB,CAAvC,CAHI,CAAd,EAKA,GAAMC,CAAAA,SAAS,CAAC,MAAI,CAAChB,KAAL,CAAWE,KAA3B,CACA,GAAIe,CAAAA,QAAQ,CAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAf,CACC,GAAIC,CAAAA,MAAM,CAAG,CACXC,SAAS,CAAE,SADA,CAEXC,OAAO,CAAE,CAAC,CACRC,YAAY,CAAE,CACZC,OAAO,CAAE,IADG,CAEZC,MAAM,CAAE,cAFI,CAGZC,OAAO,CAAE,QAHG,CAIZC,IAAI,CAAE,CAACC,IAAI,CAAE,EAAP,CAAWC,KAAK,CAAE,MAAlB,CAJM,CADN,CAORC,KAAK,CAAEd,SAAS,CAACe,WAPT,CAAD,CAFE,CAAb,CAYA,GAAIC,CAAAA,MAAM,CAAG,CAACC,UAAU,CAAE,IAAb,CAAb,CACFpC,MAAM,CAACqC,OAAP,CAAejB,QAAf,CAA0B,CAACR,IAAI,CAACO,SAAS,CAACmB,KAAhB,CACxBf,MAAM,CAAEA,MADgB,CACTY,MAAM,CAACA,MADE,CAA1B,EACiC1B,IADjC,CACsC,UAAY,CAClDT,MAAM,CAACuC,SAAP,CAAiBnB,QAAjB,CAA0BD,SAAS,CAACqB,SAApC,EAA+C,CAF/C,EAEiD/B,IAFjD,CAII,UAAY,CACVT,MAAM,CAACyC,OAAP,CAAerB,QAAf,CAAyBD,SAAS,CAACF,KAAnC,CAA0CE,SAAS,CAACuB,iBAApD,EACD,CANL,EAOF,CA7BC,EA6BC7B,KA7BD,CA6BO,SAAAC,GAAG,CAAE,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CA/BC,EAgCD,C,uCAKQ,CAGL,GAAI6B,CAAAA,WAAW,CAAC,KAAKxC,KAAL,CAAWC,IAAX,cAChB,4CACI,oBAAC,IAAD,EAAM,IAAI,CAAE,KAAKD,KAAL,CAAWC,IAAvB,EADJ,CADgB,cAIhB,2BAAK,SAAS,CAAC,cAAf,eACA,oBAAC,UAAD,EAAY,KAAK,CAAC,eAAlB,eADA,cACyD,oBAAC,cAAD,EAAgB,KAAK,CAAC,WAAtB,EADzD,CAJA,CAOA,GAAIwC,CAAAA,YAAY,CAAC,KAAKzC,KAAL,CAAWE,KAAX,cACf,4CAGA,4CACM,2CAAI,oEAAwC,KAAKF,KAAL,CAAWG,SAAnD,QAAkE,KAAKH,KAAL,CAAWI,OAA7E,CAAJ,CADN,cAEM,2BAAK,EAAE,CAAC,OAAR,EAFN,CAHA,CADe,cAab,2BAAK,SAAS,CAAC,cAAf,eACA,oBAAC,UAAD,EAAY,KAAK,CAAC,eAAlB,eADA,cACyD,oBAAC,cAAD,EAAgB,KAAK,CAAC,WAAtB,EADzD,CAbJ,CAgBA,mBACA,oBAAC,IAAD,EAAM,SAAS,KAAf,eACQ,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,EAAvB,eACI,2CAAI,kFAAJ,CADJ,cAEA,+BAAMoC,WAAN,CAFA,CADR,cAKQ,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,EAAvB,eACA,oBAAC,UAAD,EAAY,cAAc,CAAE,GAA5B,CAAiC,WAAW,CAAE,UAA9C,eACF,oBAAC,UAAD,EAAY,KAAK,CAAC,eAAlB,CAAmC,SAAS,CAAC,aAA7C,iGADE,CADA,cAIN,oBAAC,UAAD,EAAY,cAAc,CAAE,GAA5B,eACM,+BAAMC,YAAN,CADN,CAJM,CALR,CADA,CAkBH,C,kBAzGcpD,S,EAgHnB,cAAeS,CAAAA,IAAf","sourcesContent":["import React, { Component, PropTypes } from 'react';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport axios from 'axios';\nimport Top5 from '../components/top5';\nimport { Grid } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport MediaQuery from 'react-responsive';\n\nimport Plotly from 'plotly.js';\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n\n    }\n    state={\n        top5:null,\n        world:null,\n        startDate:null,\n        endDate:null\n    };\n    componentDidMount(){\n      axios.get('https://covid-india-data-dashboard.herokuapp.com/getCounts',\n      {'headers': { \n        'Access-Control-Allow-Origin' : '*',\n        'Access-Control-Allow-Methods' : 'GET',\n      }}).then(res=>{\n        //console.log(res);\n        this.setState({\n          top5:res.data\n        })\n    }).catch(err=>{\n        console.log(err)\n    })\n      axios.get('/getWorldmap').then(res=>{\n        //console.log(res);\n        this.setState({\n          world:res.data,\n          startDate:res.data.names[0],\n          endDate:res.data.names[res.data.names.length - 1]\n        })\n        const worldData=this.state.world;\n        var graphDiv = document.getElementById('myDiv');\n         var layout = {\n           hovermode: 'closest',\n           sliders: [{\n             currentvalue: {\n               visible: true,\n               prefix: 'Cases as of ',\n               xanchor: 'center',\n               font: {size: 14, color: '#666'}\n             },\n             steps: worldData.sliderSteps\n           }]\n         };\n         var config = {responsive: true}\n       Plotly.newPlot(graphDiv,  {data:worldData.chart,\n         layout: layout,config:config}).then(function () {\n       Plotly.addFrames(graphDiv,worldData.framedata)}).then(\n       \n           function () {\n             Plotly.animate(graphDiv, worldData.names, worldData.fig_world_animate)\n           });\n    }).catch(err=>{\n        console.log(err)\n    });\n    }\n\n    \n\n\n    render() {\n\n      \n        let displaytop5=this.state.top5? (\n        <div>\n            <Top5 top5={this.state.top5}></Top5>\n        </div>):\n        <div className=\"padding10per\">\n        <Typography color=\"textSecondary\">Loading...</Typography><LinearProgress color=\"secondary\" />\n        </div>;\n        let displayWorld=this.state.world? (\n          <div>\n            \n          \n          <div>\n                <h4><center>World-wide spread summary from {this.state.startDate} to {this.state.endDate}</center></h4>\n                <div id=\"myDiv\"></div>\n                \n            </div>\n          \n            \n            </div>\n            ):\n            <div className=\"padding10per\">\n            <Typography color=\"textSecondary\">Loading...</Typography><LinearProgress color=\"secondary\" />\n            </div>;\n        return(\n        <Grid container>\n                <Grid item sm={12} xs={12}>\n                    <h4><center>Top 5 Most Affected States as of 11 June 2020</center></h4>\n                <div>{displaytop5}</div>\n                </Grid>\n                <Grid item sm={12} xs={12}>\n                <MediaQuery maxDeviceWidth={424} orientation={'portrait'}>\n              <Typography color=\"textSecondary\"  className=\"alignCenter\">Sorry! We cannot render in portrait mode! Kindly change the orientation to view the graph...</Typography>\n          </MediaQuery>\n          <MediaQuery minDeviceWidth={424} >\n                <div>{displayWorld}</div>\n                \n                </MediaQuery>\n                \n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nHome.propTypes = {\n\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}