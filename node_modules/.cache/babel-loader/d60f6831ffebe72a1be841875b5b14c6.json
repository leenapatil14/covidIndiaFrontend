{"ast":null,"code":"var _jsxFileName = \"/Users/leena/Downloads/MyProjectDemo/covidIndia/src/pages/testVsCases.js\";\nimport React, { Component, PropTypes } from 'react';\nimport axios from 'axios';\nimport { Grid } from '@material-ui/core';\nimport Plot from 'react-plotly.js';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport Plotly from 'plotly.js';\n\nclass TestvsCases extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tests: null,\n      cases: null,\n      mapData: null\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://127.0.0.1:5000/getStatewiseStats').then(res => {\n      //console.log(res.data);\n      this.setState({\n        tests: res.data.stats_data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    axios.get('http://127.0.0.1:5000/getStateMap').then(res => {\n      //console.log(res.data);\n      this.setState({\n        mapData: res.data\n      });\n      var max_ = Math.max(...this.state.mapData.totalConfirmed);\n      var low = 10;\n      var high = 45;\n      var min_ = Math.min(...this.state.mapData.totalConfirmed);\n      var data = [{\n        type: \"scattermapbox\",\n        text: this.state.mapData.text,\n        lon: this.state.mapData.lon,\n        lat: this.state.mapData.lat,\n        marker: {\n          color: \"#3f51b5\",\n          size: this.state.mapData.totalConfirmed.map(x => (x - min_) * (high - low) / (max_ - min_) + low),\n          min: 5\n        }\n      }];\n      console.log(data);\n      var layout = {\n        dragmode: \"zoom\",\n        mapbox: {\n          style: \"open-street-map\",\n          center: {\n            lat: 21.30039105,\n            lon: 76.13001949\n          },\n          zoom: 3\n        },\n        margin: {\n          r: 0,\n          t: 0,\n          b: 0,\n          l: 0\n        }\n      };\n      Plotly.newPlot(graphDiv, data, layout);\n    }).catch(err => {\n      console.log(err);\n    });\n    var graphDiv = document.getElementById('statesDiv');\n  }\n\n  render() {\n    var layout_ = {\n      legend: {\n        font: {\n          size: 6,\n          color: \"#000\"\n        }\n      }\n    };\n    let displaytests = this.state.tests ? /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, this.state.tests.map(state => /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      md: 6,\n      lg: 4,\n      className: \"alignCenter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, \" Summary of \", state.State_Name, \" \")), /*#__PURE__*/React.createElement(Plot, {\n      data: state.chart,\n      useResizeHandler: true,\n      responsive: true,\n      layout: state.layout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    })))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"padding10per\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      color: \"textSecondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, \"Loading...\"), /*#__PURE__*/React.createElement(LinearProgress, {\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"statesDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }), displaytests);\n  }\n\n}\n\nTestvsCases.propTypes = {};\nexport default TestvsCases;","map":{"version":3,"sources":["/Users/leena/Downloads/MyProjectDemo/covidIndia/src/pages/testVsCases.js"],"names":["React","Component","PropTypes","axios","Grid","Plot","LinearProgress","Typography","Plotly","TestvsCases","constructor","props","state","tests","cases","mapData","componentDidMount","get","then","res","setState","data","stats_data","catch","err","console","log","max_","Math","max","totalConfirmed","low","high","min_","min","type","text","lon","lat","marker","color","size","map","x","layout","dragmode","mapbox","style","center","zoom","margin","r","t","b","l","newPlot","graphDiv","document","getElementById","render","layout_","legend","font","displaytests","State_Name","chart","propTypes"],"mappings":"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","sourcesContent":["import React, { Component, PropTypes } from 'react';\nimport axios from 'axios';\nimport { Grid } from '@material-ui/core';\nimport Plot from 'react-plotly.js';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport Plotly from 'plotly.js';\nclass TestvsCases extends Component {\n    constructor(props) {\n        super(props);\n\n    }\n    state={\n        tests:null,\n        cases:null,\n        mapData:null\n    };\n    componentDidMount(){\n        axios.get('http://127.0.0.1:5000/getStatewiseStats').then(res=>{\n            //console.log(res.data);\n            this.setState({\n                tests:res.data.stats_data\n            })\n            \n        }).catch(err=>{\n            console.log(err)\n        });\n        axios.get('http://127.0.0.1:5000/getStateMap').then(res=>{\n            //console.log(res.data);\n            this.setState({\n                mapData:res.data\n            });\n\n            var max_=Math.max(...this.state.mapData.totalConfirmed);\n                    var low=10;\n                    var high=45;\n                    var min_=Math.min(...this.state.mapData.totalConfirmed);\n                    \n                    var data = [\n                        {\n                            type: \"scattermapbox\",\n                            text: this.state.mapData.text,\n                            lon: this.state.mapData.lon,\n                            lat: this.state.mapData.lat,\n                            marker: { color: \"#3f51b5\", size: this.state.mapData.totalConfirmed.map(x=> (((x-min_)*(high-low))/(max_-min_))+low) ,min:5}\n                        }\n                    ];\n                    console.log(data)\n                    var layout = {\n                        dragmode: \"zoom\",\n                        mapbox: { style: \"open-street-map\", center: { lat: 21.30039105, lon: 76.13001949  }, zoom: 3 },\n                        margin: { r: 0, t: 0, b: 0, l: 0 }\n                    };\n            \n                    Plotly.newPlot(graphDiv, data, layout);\n            \n        }).catch(err=>{\n            console.log(err)\n        });\n        var graphDiv = document.getElementById('statesDiv');\n          \n    }\n\n\n    render() {\n        var layout_={legend : {font : {size : 6, color : \"#000\"}}};\n        \n        let displaytests=this.state.tests? (\n            <Grid container>\n        {this.state.tests.map(state=>\n            <Grid item xs={12} sm={6} md={6} lg={4} className=\"alignCenter\">\n            \n                \n                <h4><center> Summary of {state.State_Name} </center></h4>\n            <Plot data={state.chart}\n            useResizeHandler={true}\n            responsive={true}\n            layout={state.layout}\n            \n            ></Plot>\n        </Grid>\n       \n            \n        )  \n        \n    }\n    </Grid>\n        ):\n        <div className=\"padding10per\">\n        <Typography color=\"textSecondary\">Loading...</Typography>\n        <LinearProgress color=\"secondary\" />\n        </div>;\n        return(\n        <div>\n                    \n                    <div id=\"statesDiv\"></div>\n                \n                    {displaytests}\n                    \n                    \n                    </div>      \n            \n        );\n    }\n}\n\nTestvsCases.propTypes = {\n\n};\n\nexport default TestvsCases;"]},"metadata":{},"sourceType":"module"}